<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <script>
        $(function() {
            $("#login_btn").click(function() {
                login();
            });
        })

        function login() {
            $.post("http://localhost:8080/user/login",
            {
                userName: $("#username").val(),
                password: $("#password").val()
            },
            function(data, status){
                if (typeof(data.userName) != 'undefined') {
                    localStorage.setItem("isLoggedin", true);
                    localStorage.setItem("firstName", data.firstName);
                    window.location = "/test/page1.html";
                }
                else {
                    alert("login failed");
                }
            });
        }
    </script>
</head>
<body>
    <input type="text" id="username" placeholder="username" />
    <input type="password" id="password" placeholder="password" />
    <input type="button" value="login" id="login_btn" />
</body>
</html>
