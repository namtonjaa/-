<!DOCTYPE html>
<html>
<head>
<title>Admin</title>
	<link rel="stylesheet" href="../css/LoggedinMain.css">
	<link rel="stylesheet" href="../css/Courselist.css">
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	
	<script>
		let courses;
		
		$(function() {
			generateCourseHtmlRows();
		});
		
		function getAllCourses() {
			$.ajax({
				 async: false,
				 type: 'GET',
				 url: "http://localhost:8080/admin/course/all",
				 success: function(data) {
					courses = data;
				 }
			});
		}
		
		function generateCourseHtmlRows() {
			getAllCourses();
			if (typeof(courses) != 'undefined' && courses.length > 0) {
				for (let i = 0; i < courses.length; i ++) {
					let course = courses[i];
					$("#Courselist").last().append("<tr><td>" + course.courseId + "</td><td>" + course.courseName + "</td><td>" + course.professorName + "</td><td>" + course.semester + "</td><td>" + course.credit + "</td></tr>");
				}
			}
		}
	</script>
</head>
<meta charset="UTF-8">
<body>

	<div class="header">
		This is Admin
	</div>

	<ul>
		<li><a href="AdminMain.html">Main</a></li>
		<li><a href="AdminAddCourse.html">Create course</a></li>
		<li style="float:right"><a href="../Index.html">Logout</a></li>
	</ul>

	<div style="content">
		<h1>Existed Course</h1>
		<h2>new created course will appear here</h2>
		<table id = "Courselist">
			<tr>
				<th class="column1">Course ID</th>
				<th class="column2">Course Name</th>
				<th class="column2">Professor Name</th>
				<th class="column3">Semester</th>
				<th class="column5">Credit</th>
			</tr>
		</table>
	</div>

</body>
</html>
